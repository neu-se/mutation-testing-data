  The PLACEHOLDER can be replaced with:
```
for (var p = promise; p; p = p.parent) {
```

DONE.