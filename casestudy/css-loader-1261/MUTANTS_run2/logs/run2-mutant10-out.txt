
> css-loader@5.0.1 test
> npm run test:coverage


> css-loader@5.0.1 test:coverage
> npm run test:only -- --collectCoverageFrom="src/**/*.js" --coverage


> css-loader@5.0.1 test:only
> cross-env NODE_ENV=test jest --collectCoverageFrom=src/**/*.js --coverage

PASS test/runtime/getUrl.test.js
PASS test/runtime/api.test.js
PASS test/cjs.test.js
FAIL test/import-option.test.js
  ● "import" option › should work when not specified

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:18:12)

  ● "import" option › should work with a value equal to "true"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:32:12)

  ● "import" option › should work with a value equal to "false"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:46:12)

  ● "import" option › should work when "Function"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:77:12)

  ● "import" option › should keep original order

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:91:12)

  ● "import" option › should resolve server-relative url relative rootContext

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:132:7)

  ● "import" option › should resolve absolute path

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:167:7)

  ● "import" option › should resolve "file" protocol

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/import-option.test.js:190:7)

 › 32 snapshots obsolete.
   • "import" option should keep original order: errors 1
   • "import" option should keep original order: module 1
   • "import" option should keep original order: result 1
   • "import" option should keep original order: warnings 1
   • "import" option should resolve "file" protocol: errors 1
   • "import" option should resolve "file" protocol: module 1
   • "import" option should resolve "file" protocol: result 1
   • "import" option should resolve "file" protocol: warnings 1
   • "import" option should resolve absolute path: errors 1
   • "import" option should resolve absolute path: module 1
   • "import" option should resolve absolute path: result 1
   • "import" option should resolve absolute path: warnings 1
   • "import" option should resolve server-relative url relative rootContext: errors 1
   • "import" option should resolve server-relative url relative rootContext: module 1
   • "import" option should resolve server-relative url relative rootContext: result 1
   • "import" option should resolve server-relative url relative rootContext: warnings 1
   • "import" option should work when "Function": errors 1
   • "import" option should work when "Function": module 1
   • "import" option should work when "Function": result 1
   • "import" option should work when "Function": warnings 1
   • "import" option should work when not specified: errors 1
   • "import" option should work when not specified: module 1
   • "import" option should work when not specified: result 1
   • "import" option should work when not specified: warnings 1
   • "import" option should work with a value equal to "false": errors 1
   • "import" option should work with a value equal to "false": module 1
   • "import" option should work with a value equal to "false": result 1
   • "import" option should work with a value equal to "false": warnings 1
   • "import" option should work with a value equal to "true": errors 1
   • "import" option should work with a value equal to "true": module 1
   • "import" option should work with a value equal to "true": result 1
   • "import" option should work with a value equal to "true": warnings 1
FAIL test/url-option.test.js
  ● "url" option › should work when not specified

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:22:12)

  ● "url" option › should work with a value equal to "true"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:34:12)

  ● "url" option › should work with a value equal to "false"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:46:12)

  ● "url" option › should work with a value equal to "Function"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:73:12)

  ● "url" option › should resolve absolute path

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:105:12)

  ● "url" option › should resolve "file" protocol path

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:142:7)

  ● "url" option › should work with the 'asset' type of asset modules

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:189:12)

  ● "url" option › should work with the 'asset/resource' type of asset modules

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:235:12)

  ● "url" option › should work with the 'asset/inline' type of asset modules

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/url-option.test.js:274:12)

 › 36 snapshots obsolete.
   • "url" option should resolve "file" protocol path: errors 1
   • "url" option should resolve "file" protocol path: module 1
   • "url" option should resolve "file" protocol path: result 1
   • "url" option should resolve "file" protocol path: warnings 1
   • "url" option should resolve absolute path: errors 1
   • "url" option should resolve absolute path: module 1
   • "url" option should resolve absolute path: result 1
   • "url" option should resolve absolute path: warnings 1
   • "url" option should work when not specified: errors 1
   • "url" option should work when not specified: module 1
   • "url" option should work when not specified: result 1
   • "url" option should work when not specified: warnings 1
   • "url" option should work with a value equal to "Function": errors 1
   • "url" option should work with a value equal to "Function": module 1
   • "url" option should work with a value equal to "Function": result 1
   • "url" option should work with a value equal to "Function": warnings 1
   • "url" option should work with a value equal to "false": errors 1
   • "url" option should work with a value equal to "false": module 1
   • "url" option should work with a value equal to "false": result 1
   • "url" option should work with a value equal to "false": warnings 1
   • "url" option should work with a value equal to "true": errors 1
   • "url" option should work with a value equal to "true": module 1
   • "url" option should work with a value equal to "true": result 1
   • "url" option should work with a value equal to "true": warnings 1
   • "url" option should work with the 'asset' type of asset modules: errors 1
   • "url" option should work with the 'asset' type of asset modules: module 1
   • "url" option should work with the 'asset' type of asset modules: result 1
   • "url" option should work with the 'asset' type of asset modules: warnings 1
   • "url" option should work with the 'asset/inline' type of asset modules: errors 1
   • "url" option should work with the 'asset/inline' type of asset modules: module 1
   • "url" option should work with the 'asset/inline' type of asset modules: result 1
   • "url" option should work with the 'asset/inline' type of asset modules: warnings 1
   • "url" option should work with the 'asset/resource' type of asset modules: errors 1
   • "url" option should work with the 'asset/resource' type of asset modules: module 1
   • "url" option should work with the 'asset/resource' type of asset modules: result 1
   • "url" option should work with the 'asset/resource' type of asset modules: warnings 1
FAIL test/esModule-option.test.js
  ● "esModule" option › should work when not specified

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:24:12)

  ● "esModule" option › should work with a value equal to "true"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:38:12)

  ● "esModule" option › should work with a value equal to "true" and the "mode" value equal to "local"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:55:12)

  ● "esModule" option › should work with a value equal to "true" and the "mode" value equal to "global"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:72:12)

  ● "esModule" option › should work with a value equal to "true" and the "mode" value equal to "pure"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:89:12)

  ● "esModule" option › should work with a value equal to "false"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/esModule-option.test.js:103:12)

 › 24 snapshots obsolete.
   • "esModule" option should work when not specified: errors 1
   • "esModule" option should work when not specified: module 1
   • "esModule" option should work when not specified: result 1
   • "esModule" option should work when not specified: warnings 1
   • "esModule" option should work with a value equal to "false": errors 1
   • "esModule" option should work with a value equal to "false": module 1
   • "esModule" option should work with a value equal to "false": result 1
   • "esModule" option should work with a value equal to "false": warnings 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": errors 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": module 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": result 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": warnings 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": errors 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": module 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": result 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": warnings 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": errors 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": module 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": result 1
   • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": warnings 1
   • "esModule" option should work with a value equal to "true": errors 1
   • "esModule" option should work with a value equal to "true": module 1
   • "esModule" option should work with a value equal to "true": result 1
   • "esModule" option should work with a value equal to "true": warnings 1
PASS test/validate-options.test.js
FAIL test/importLoaders-option.test.js
  ● Console

    console.warn
      Browserslist: caniuse-lite is outdated. Please run:
      npx browserslist@latest --update-db
      
      Why you should do it regularly:
      https://github.com/browserslist/browserslist#browsers-data-updating

      28 |                   options: {
      29 |                     postcssOptions: {
    > 30 |                       plugins: [postcssPresetEnv({ stage: 0 })],
         |                                 ^
      31 |                     },
      32 |                   },
      33 |                 },

      at Object.oldDataWarning (node_modules/browserslist/node.js:373:15)
      at browserslist (node_modules/browserslist/index.js:432:7)
      at node_modules/postcss-preset-env/src/postcss.js:87:28
      at creator (node_modules/postcss-preset-env/node_modules/postcss/lib/postcss.es6:111:34)
      at Object.<anonymous> (test/importLoaders-option.test.js:30:33)

  ● "importLoaders" option › should work when not specified

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:43:7)

  ● "importLoaders" option › should work with a value equal to "0" (`postcss-loader` before)

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:83:7)

  ● "importLoaders" option › should work with a value equal to "1" (no loaders before)

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:97:7)

  ● "importLoaders" option › should work with a value equal to "1" ("postcss-loader" before)

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:137:7)

  ● "importLoaders" option › should work with a value equal to "2" ("postcss-loader" before)

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:177:7)

  ● "importLoaders" option › should work with a value equal to ""1"" ("postcss-loader" before)

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/importLoaders-option.test.js:217:7)

 › 24 snapshots obsolete.
   • "importLoaders" option should work when not specified: errors 1
   • "importLoaders" option should work when not specified: module 1
   • "importLoaders" option should work when not specified: result 1
   • "importLoaders" option should work when not specified: warnings 1
   • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): errors 1
   • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): module 1
   • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): result 1
   • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): warnings 1
   • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): errors 1
   • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): module 1
   • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): result 1
   • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): warnings 1
   • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): errors 1
   • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): module 1
   • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): result 1
   • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): warnings 1
   • "importLoaders" option should work with a value equal to "1" (no loaders before): errors 1
   • "importLoaders" option should work with a value equal to "1" (no loaders before): module 1
   • "importLoaders" option should work with a value equal to "1" (no loaders before): result 1
   • "importLoaders" option should work with a value equal to "1" (no loaders before): warnings 1
   • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): errors 1
   • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): module 1
   • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): result 1
   • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): warnings 1
FAIL test/loader.test.js (5.65 s)
  ● Console

    console.warn
      Browserslist: caniuse-lite is outdated. Please run:
      npx browserslist@latest --update-db
      
      Why you should do it regularly:
      https://github.com/browserslist/browserslist#browsers-data-updating

      11 |   const { spy = jest.fn() } = this.query;
      12 |
    > 13 |   postcss([postcssPresetEnv({ stage: 0 })])
         |            ^
      14 |     .process(content, {
      15 |       // eslint-disable-next-line no-undefined
      16 |       from: undefined,

      at Object.oldDataWarning (node_modules/browserslist/node.js:373:15)
      at browserslist (node_modules/browserslist/index.js:432:7)
      at node_modules/postcss-preset-env/src/postcss.js:87:28
      at creator (node_modules/postcss-preset-env/node_modules/postcss/lib/postcss.es6:111:34)
      at Object.astLoader (test/helpers/ast-loader.js:13:12)
      at LOADER_EXECUTION (node_modules/loader-runner/lib/LoaderRunner.js:132:14)
      at runSyncOrAsync (node_modules/loader-runner/lib/LoaderRunner.js:133:4)
      at iterateNormalLoaders (node_modules/loader-runner/lib/LoaderRunner.js:250:2)

  ● loader › should work

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/loader.test.js:23:12)

  ● loader › should work with empty options

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/loader.test.js:47:12)

  ● loader › should work with "asset" module type

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/loader.test.js:96:12)

  ● loader › should throws error when no loader(s) for assets

    expect(received).toMatchSnapshot(hint)

    Snapshot name: `loader should throws error when no loader(s) for assets: errors 1`

    - Snapshot  -  3
    + Received  + 12

      Array [
    -   "ModuleParseError: Module parse failed: Unexpected character '�' (1:0)
    - You may need an appropriate loader to handle this file type, currently no loaders are configured to process this file. See https://webpack.js.org/concepts#loaders
    - (Source code omitted for this binary file)",
    +   "ModuleBuildError: Module build failed (from `replaced original path`):
    + Error: Can't resolve '.%2Furl%2Fimg.png' in '/test/fixtures'
    +     at finishWithoutResolve (/node_modules/enhanced-resolve/lib/Resolver.js:293:18)
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:362:15
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:16:1)
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:27:1)
    +     at /node_modules/enhanced-resolve/lib/DescriptionFilePlugin.js:87:43
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:15:1)
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5",
      ]

      120 |
      121 |     expect(getWarnings(stats)).toMatchSnapshot("warnings");
    > 122 |     expect(getErrors(stats)).toMatchSnapshot("errors");
          |                              ^
      123 |   });
      124 |
      125 |   it("should throw error on invalid css syntax", async () => {

      at Object.<anonymous> (test/loader.test.js:122:30)

  ● loader › should reuse `ast` from "postcss-loader"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/loader.test.js:173:7)

  ● loader › should work with ModuleConcatenationPlugin

    expect(received).toBe(expected) // Object.is equality

    Expected: 10
    Received: 5

      245 |
      246 |     if (stats.compilation.modules.size) {
    > 247 |       expect(stats.compilation.modules.size).toBe(10);
          |                                              ^
      248 |     } else {
      249 |       expect(stats.compilation.modules.length).toBe(6);
      250 |     }

      at Object.<anonymous> (test/loader.test.js:247:46)

  ● loader › should work with ModuleConcatenationPlugin (file-loader)

    expect(received).toBe(expected) // Object.is equality

    Expected: 10
    Received: 5

      278 |
      279 |     if (stats.compilation.modules.size) {
    > 280 |       expect(stats.compilation.modules.size).toBe(10);
          |                                              ^
      281 |     } else {
      282 |       expect(stats.compilation.modules.length).toBe(6);
      283 |     }

      at Object.<anonymous> (test/loader.test.js:280:46)

  ● loader › should work with ModuleConcatenationPlugin (url-loader)

    expect(received).toBe(expected) // Object.is equality

    Expected: 9
    Received: 5

      311 |
      312 |     if (stats.compilation.modules.size) {
    > 313 |       expect(stats.compilation.modules.size).toBe(9);
          |                                              ^
      314 |     } else {
      315 |       expect(stats.compilation.modules.length).toBe(6);
      316 |     }

      at Object.<anonymous> (test/loader.test.js:313:46)

  ● loader › should work with the "modules.auto" option and the "importLoaders" option

    Module build failed (from ../../src/index.js):
    Error: Can't resolve '.%2Fimported-by-pure.css' in '/Users/franktip/git/mutation-testing-data/casestudy/css-loader-1261/css-loader/test/fixtures/integration'

      at finishWithoutResolve (node_modules/enhanced-resolve/lib/Resolver.js:293:18)
      at node_modules/enhanced-resolve/lib/Resolver.js:362:15
      at node_modules/enhanced-resolve/lib/Resolver.js:410:5
      at eval (eval at create (node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:16:1)
      at node_modules/enhanced-resolve/lib/Resolver.js:410:5
      at eval (eval at create (node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:27:1)
      at node_modules/enhanced-resolve/lib/DescriptionFilePlugin.js:87:43
      at node_modules/enhanced-resolve/lib/Resolver.js:410:5
      at eval (eval at create (node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:15:1)
      at node_modules/enhanced-resolve/lib/Resolver.js:410:5
      at Object../integration/pure.css (test.js:67:7)
      at __webpack_require__ (test.js:198:41)
      at Object../integration/index.js (test.js:157:67)
      at __webpack_require__ (test.js:198:41)
      at test.js:248:11
      at Object.<anonymous> (test.js:250:12)
      at _default (test/helpers/execute.js:16:10)
      at _default (test/helpers/getExecutedCode.js:4:18)
      at Object.<anonymous> (test/loader.test.js:415:12)

  ● loader › should pass queries to other loader

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/loader.test.js:504:12)

 › 1 snapshot failed.
 › 29 snapshots obsolete.
   • loader should pass queries to other loader: errors 1
   • loader should pass queries to other loader: module 1
   • loader should pass queries to other loader: result 1
   • loader should pass queries to other loader: warnings 1
   • loader should reuse `ast` from "postcss-loader": errors 1
   • loader should reuse `ast` from "postcss-loader": module 1
   • loader should reuse `ast` from "postcss-loader": result 1
   • loader should reuse `ast` from "postcss-loader": warnings 1
   • loader should work with "asset" module type: errors 1
   • loader should work with "asset" module type: module 1
   • loader should work with "asset" module type: result 1
   • loader should work with "asset" module type: warnings 1
   • loader should work with ModuleConcatenationPlugin (file-loader): errors 1
   • loader should work with ModuleConcatenationPlugin (file-loader): warnings 1
   • loader should work with ModuleConcatenationPlugin (url-loader): errors 1
   • loader should work with ModuleConcatenationPlugin (url-loader): warnings 1
   • loader should work with ModuleConcatenationPlugin: errors 1
   • loader should work with ModuleConcatenationPlugin: warnings 1
   • loader should work with empty options: errors 1
   • loader should work with empty options: module 1
   • loader should work with empty options: result 1
   • loader should work with empty options: warnings 1
   • loader should work with the "modules.auto" option and the "importLoaders" option: errors 1
   • loader should work with the "modules.auto" option and the "importLoaders" option: result 1
   • loader should work with the "modules.auto" option and the "importLoaders" option: warnings 1
   • loader should work: errors 1
   • loader should work: module 1
   • loader should work: result 1
   • loader should work: warnings 1
FAIL test/sourceMap-option.test.js (6.072 s)
  ● Console

    console.warn
      Browserslist: caniuse-lite is outdated. Please run:
      npx browserslist@latest --update-db
      
      Why you should do it regularly:
      https://github.com/browserslist/browserslist#browsers-data-updating

      319 |                     options: {
      320 |                       postcssOptions: {
    > 321 |                         plugins: [postcssPresetEnv({ stage: 0 })],
          |                                   ^
      322 |                       },
      323 |                       sourceMap: true,
      324 |                     },

      at Object.oldDataWarning (node_modules/browserslist/node.js:373:15)
      at browserslist (node_modules/browserslist/index.js:432:7)
      at node_modules/postcss-preset-env/src/postcss.js:87:28
      at creator (node_modules/postcss-preset-env/node_modules/postcss/lib/postcss.es6:111:34)
      at Object.<anonymous> (test/sourceMap-option.test.js:321:35)

  ● "sourceMap" option › not specified › should not generate source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:25:14)

  ● "sourceMap" option › true › should generate source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:43:14)

  ● "sourceMap" option › true › should generate source maps when previous loader does not generate source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:100:14)

  ● "sourceMap" option › true › should generate source maps when previous loader generates source maps without "sourceRoot"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:157:14)

  ● "sourceMap" option › true › should generate source maps when previous loader generates different source in source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:234:14)

  ● "sourceMap" option › true › should generate source maps when previous loader generates source maps with "sourceRoot"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:291:14)

  ● "sourceMap" option › true › should generate source maps when previous loader generates source maps ("postcss-loader")

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:335:9)

  ● "sourceMap" option › true › should generate source maps and do not change "[contenthash]" on different platform

    expect(received).toBe(expected) // Object.is equality

    Expected: "main.bac0eaf8cd232e2ae9a6.bundle.js"
    Received: "main.9546050fd7bd96ef2350.bundle.js"

      500 |       ).find((assetName) => /\.js$/.test(assetName));
      501 |
    > 502 |       expect(chunkName).toBe(
          |                         ^
      503 |         webpack.version[0] === "5"
      504 |           ? "main.bac0eaf8cd232e2ae9a6.bundle.js"
      505 |           : "main.19efc497c5c37fc5e355.bundle.js"

      at Object.<anonymous> (test/sourceMap-option.test.js:502:25)

  ● "sourceMap" option › true › should generate source maps when css was extracted

    expect(received).toMatchSnapshot(hint)

    Snapshot name: `"sourceMap" option true should generate source maps when css was extracted: extracted css 1`

    - Snapshot  - 10
    + Received  +  1

    - .nested {
    -   color: blue;
    - }
    -
    - .class {
    -   color: red;
    - }
    -
    -
    - /*# sourceMappingURL=main.css.map*/
    + Error: ENOENT: no such file or directory, open '/Users/franktip/git/mutation-testing-data/casestudy/css-loader-1261/css-loader/outputs/main.css'

      552 |       const stats = await compile(compiler);
      553 |
    > 554 |       expect(readAsset("main.css", compiler, stats)).toMatchSnapshot(
          |                                                      ^
      555 |         "extracted css"
      556 |       );
      557 |       expect(

      at Object.<anonymous> (test/sourceMap-option.test.js:554:54)

  ● "sourceMap" option › true › should generate source maps when css was extracted and do not change "[contenthash]" on different platform

    TypeError: Cannot read properties of undefined (reading 'indexOf')

       8 |   let targetFile = asset;
       9 |
    > 10 |   const queryStringIdx = targetFile.indexOf("?");
         |                                     ^
      11 |
      12 |   if (queryStringIdx >= 0) {
      13 |     targetFile = targetFile.substr(0, queryStringIdx);

      at _default (test/helpers/readAsset.js:10:37)
      at Object.<anonymous> (test/sourceMap-option.test.js:608:28)

  ● "sourceMap" option › false › should not generate source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:647:14)

  ● "sourceMap" option › false › should not generate source maps when previous loader does not generate source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:689:14)

  ● "sourceMap" option › false › should not generate source maps when previous loader generates source maps

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/sourceMap-option.test.js:738:14)

  ● "sourceMap" option › false › should generate source maps when css was extracted

    expect(received).toMatchSnapshot(hint)

    Snapshot name: `"sourceMap" option false should generate source maps when css was extracted: extracted css 1`

    - Snapshot  - 9
    + Received  + 1

    - .nested {
    -   color: blue;
    - }
    -
    - .class {
    -   color: red;
    - }
    -
    -
    + Error: ENOENT: no such file or directory, open '/Users/franktip/git/mutation-testing-data/casestudy/css-loader-1261/css-loader/outputs/main.css'

      782 |       const stats = await compile(compiler);
      783 |
    > 784 |       expect(readAsset("main.css", compiler, stats)).toMatchSnapshot(
          |                                                      ^
      785 |         "extracted css"
      786 |       );
      787 |       expect(getWarnings(stats)).toMatchSnapshot("warnings");

      at Object.<anonymous> (test/sourceMap-option.test.js:784:54)

  ● "sourceMap" option › false › should generate source maps when css was extracted

    expect(received).toMatchSnapshot(hint)

    Snapshot name: `"sourceMap" option false should generate source maps when css was extracted: errors 1`

    - Snapshot  -  1
    + Received  + 14

    - Array []
    + Array [
    +   "ModuleBuildError: Module build failed (from `replaced original path`):
    + ModuleBuildError: Module build failed (from ../../src/index.js):
    + Error: Can't resolve '.%2Fnested%2Fnested.css' in '/test/fixtures/source-map'
    +     at finishWithoutResolve (/node_modules/enhanced-resolve/lib/Resolver.js:293:18)
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:362:15
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:16:1)
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:27:1)
    +     at /node_modules/enhanced-resolve/lib/DescriptionFilePlugin.js:87:43
    +     at /node_modules/enhanced-resolve/lib/Resolver.js:410:5
    +     at eval (eval at create (/node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:15:1)",
    + ]

      786 |       );
      787 |       expect(getWarnings(stats)).toMatchSnapshot("warnings");
    > 788 |       expect(getErrors(stats)).toMatchSnapshot("errors");
          |                                ^
      789 |     });
      790 |   });
      791 | });

      at Object.<anonymous> (test/sourceMap-option.test.js:788:32)

 › 3 snapshots failed.
 › 51 snapshots obsolete.
   • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: errors 1
   • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: module 1
   • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: result 1
   • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: warnings 1
   • "sourceMap" option false should not generate source maps when previous loader generates source maps: errors 1
   • "sourceMap" option false should not generate source maps when previous loader generates source maps: module 1
   • "sourceMap" option false should not generate source maps when previous loader generates source maps: result 1
   • "sourceMap" option false should not generate source maps when previous loader generates source maps: warnings 1
   • "sourceMap" option false should not generate source maps: errors 1
   • "sourceMap" option false should not generate source maps: module 1
   • "sourceMap" option false should not generate source maps: result 1
   • "sourceMap" option false should not generate source maps: warnings 1
   • "sourceMap" option not specified should not generate source maps: errors 1
   • "sourceMap" option not specified should not generate source maps: module 1
   • "sourceMap" option not specified should not generate source maps: result 1
   • "sourceMap" option not specified should not generate source maps: warnings 1
   • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: errors 1
   • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: module 1
   • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: result 1
   • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: warnings 1
   • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: errors 1
   • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: extracted css 1
   • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: source map 1
   • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: warnings 1
   • "sourceMap" option true should generate source maps when css was extracted: errors 1
   • "sourceMap" option true should generate source maps when css was extracted: source map 1
   • "sourceMap" option true should generate source maps when css was extracted: warnings 1
   • "sourceMap" option true should generate source maps when previous loader does not generate source maps: errors 1
   • "sourceMap" option true should generate source maps when previous loader does not generate source maps: module 1
   • "sourceMap" option true should generate source maps when previous loader does not generate source maps: result 1
   • "sourceMap" option true should generate source maps when previous loader does not generate source maps: warnings 1
   • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: errors 1
   • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: module 1
   • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: result 1
   • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: warnings 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): errors 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): module 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): result 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): warnings 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": errors 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": module 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": result 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": warnings 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": errors 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": module 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": result 1
   • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": warnings 1
   • "sourceMap" option true should generate source maps: errors 1
   • "sourceMap" option true should generate source maps: module 1
   • "sourceMap" option true should generate source maps: result 1
   • "sourceMap" option true should generate source maps: warnings 1
FAIL test/modules-option.test.js (10.52 s)
  ● "modules" option › should work with case `comments` (`modules` value is `true)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `true)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `true)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `comments` (`modules` value is `false)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `false)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `false)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `comments` (`modules` value is `local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `comments` (`modules` value is `global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `comments` (`modules` value is `object with mode local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `object with mode local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `object with mode local)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `comments` (`modules` value is `object with mode global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `issue-589` (`modules` value is `object with mode global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should work with case `urls` (`modules` value is `object with mode global)`

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:42:16)

  ● "modules" option › should support resolving in composes

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:303:7)

  ● "modules" option › should throw an error on unresolved import

    expect(received).toMatchSnapshot(hint)

    Snapshot name: `"modules" option should throw an error on unresolved import: errors 1`

    - Snapshot  - 1
    + Received  + 1

      Array [
        "ModuleBuildError: Module build failed (from `replaced original path`):
    - Error: Can't resolve './unresolved.css' in '/test/fixtures/modules/unresolved'",
    + Error: Can't resolve './.%2Funresolved.css' in '/test/fixtures/modules/unresolved'",
      ]

      956 |
      957 |     expect(getWarnings(stats)).toMatchSnapshot("warnings");
    > 958 |     expect(getErrors(stats, true)).toMatchSnapshot("errors");
          |                                    ^
      959 |   });
      960 |
      961 |   it('should work and respect the "localConvention" option with the "asIs" value', async () => {

      at Object.<anonymous> (test/modules-option.test.js:958:36)

  ● "modules" option › should work and respect the "exportOnlyLocals" option

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1082:7)

  ● "modules" option › should work with "exportOnlyLocals" and "esModule" with "true" value options

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1103:7)

  ● "modules" option › should work with "exportOnlyLocals" and "esModule" with "false" value options

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1124:7)

  ● "modules" option › should work with "exportOnlyLocals" and "namedExport" option

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1311:7)

  ● "modules" option › should work with "url" and "namedExport"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1328:12)

  ● "modules" option › should work with "url"

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1344:12)

  ● "modules" option › show work with the "compileType" option using the "module" value

    TypeError: Cannot read properties of undefined (reading 'replace')

       5 |
       6 |   // Todo remove after drop webpack@4 support
    >  7 |   source = source.replace(/\?\?.*!/g, "??[ident]!");
         |                   ^
       8 |
       9 |   return source;
      10 | };

      at _default (test/helpers/getModuleSource.js:7:19)
      at Object.<anonymous> (test/modules-option.test.js:1436:7)

 › 1 snapshot failed.
 › 104 snapshots obsolete.
   • "modules" option should support resolving in composes: errors 1
   • "modules" option should support resolving in composes: module 1
   • "modules" option should support resolving in composes: result 1
   • "modules" option should support resolving in composes: warnings 1
   • "modules" option should work and respect the "exportOnlyLocals" option: errors 1
   • "modules" option should work and respect the "exportOnlyLocals" option: module 1
   • "modules" option should work and respect the "exportOnlyLocals" option: result 1
   • "modules" option should work and respect the "exportOnlyLocals" option: warnings 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: errors 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: module 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: result 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: warnings 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: errors 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: module 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: result 1
   • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: warnings 1
   • "modules" option should work with "exportOnlyLocals" and "namedExport" option: errors 1
   • "modules" option should work with "exportOnlyLocals" and "namedExport" option: module 1
   • "modules" option should work with "exportOnlyLocals" and "namedExport" option: result 1
   • "modules" option should work with "exportOnlyLocals" and "namedExport" option: warnings 1
   • "modules" option should work with "url" and "namedExport": errors 1
   • "modules" option should work with "url" and "namedExport": module 1
   • "modules" option should work with "url" and "namedExport": result 1
   • "modules" option should work with "url" and "namedExport": warnings 1
   • "modules" option should work with "url": errors 1
   • "modules" option should work with "url": module 1
   • "modules" option should work with "url": result 1
   • "modules" option should work with "url": warnings 1
   • "modules" option should work with case `comments` (`modules` value is `false)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `false)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `false)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `false)`: warnings 1
   • "modules" option should work with case `comments` (`modules` value is `global)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `global)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `global)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `global)`: warnings 1
   • "modules" option should work with case `comments` (`modules` value is `local)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `local)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `local)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `local)`: warnings 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: warnings 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: warnings 1
   • "modules" option should work with case `comments` (`modules` value is `true)`: errors 1
   • "modules" option should work with case `comments` (`modules` value is `true)`: module 1
   • "modules" option should work with case `comments` (`modules` value is `true)`: result 1
   • "modules" option should work with case `comments` (`modules` value is `true)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `false)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `false)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `false)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `false)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `global)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `global)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `global)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `global)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `local)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `local)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `local)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `local)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: warnings 1
   • "modules" option should work with case `issue-589` (`modules` value is `true)`: errors 1
   • "modules" option should work with case `issue-589` (`modules` value is `true)`: module 1
   • "modules" option should work with case `issue-589` (`modules` value is `true)`: result 1
   • "modules" option should work with case `issue-589` (`modules` value is `true)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `false)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `false)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `false)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `false)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `global)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `global)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `global)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `global)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `local)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `local)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `local)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `local)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: warnings 1
   • "modules" option should work with case `urls` (`modules` value is `true)`: errors 1
   • "modules" option should work with case `urls` (`modules` value is `true)`: module 1
   • "modules" option should work with case `urls` (`modules` value is `true)`: result 1
   • "modules" option should work with case `urls` (`modules` value is `true)`: warnings 1
   • "modules" option show work with the "compileType" option using the "module" value: errors 1
   • "modules" option show work with the "compileType" option using the "module" value: module 1
   • "modules" option show work with the "compileType" option using the "module" value: result 1
   • "modules" option show work with the "compileType" option using the "module" value: warnings 1
----------------------------|---------|----------|---------|---------|---------------------------------------
File                        | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s                     
----------------------------|---------|----------|---------|---------|---------------------------------------
All files                   |   92.04 |    87.85 |   95.83 |   92.15 |                                       
 src                        |   92.65 |    87.35 |   93.62 |   92.65 |                                       
  CssSyntaxError.js         |     100 |       50 |     100 |     100 | 13-22                                 
  Warning.js                |       0 |        0 |       0 |       0 | 3-18                                  
  cjs.js                    |     100 |      100 |     100 |     100 |                                       
  index.js                  |   98.08 |      100 |     100 |   98.08 | 184                                   
  utils.js                  |   94.14 |    87.61 |   95.12 |   94.14 | 88,96,364,418,472,478,538-548,633-635 
 src/plugins                |    89.2 |    84.91 |     100 |   89.52 |                                       
  index.js                  |       0 |        0 |       0 |       0 |                                       
  postcss-icss-parser.js    |     100 |    81.82 |     100 |     100 | 5,53                                  
  postcss-import-parser.js  |   98.63 |    90.48 |     100 |   98.61 | 187                                   
  postcss-url-parser.js     |   76.84 |    81.13 |     100 |   77.66 | 153,183,190-234                       
 src/runtime                |     100 |      100 |     100 |     100 |                                       
  api.js                    |     100 |      100 |     100 |     100 |                                       
  cssWithMappingToString.js |     100 |      100 |     100 |     100 |                                       
  getUrl.js                 |     100 |      100 |     100 |     100 |                                       
----------------------------|---------|----------|---------|---------|---------------------------------------
Snapshot Summary
 › 5 snapshots failed from 3 test suites. Inspect your code changes or run `npm run test:only -- -u` to update them.
 › 300 snapshots obsolete from 7 test suites. To remove them all, run `npm run test:only -- -u`.
   ↳ test/import-option.test.js
       • "import" option should keep original order: errors 1
       • "import" option should keep original order: module 1
       • "import" option should keep original order: result 1
       • "import" option should keep original order: warnings 1
       • "import" option should resolve "file" protocol: errors 1
       • "import" option should resolve "file" protocol: module 1
       • "import" option should resolve "file" protocol: result 1
       • "import" option should resolve "file" protocol: warnings 1
       • "import" option should resolve absolute path: errors 1
       • "import" option should resolve absolute path: module 1
       • "import" option should resolve absolute path: result 1
       • "import" option should resolve absolute path: warnings 1
       • "import" option should resolve server-relative url relative rootContext: errors 1
       • "import" option should resolve server-relative url relative rootContext: module 1
       • "import" option should resolve server-relative url relative rootContext: result 1
       • "import" option should resolve server-relative url relative rootContext: warnings 1
       • "import" option should work when "Function": errors 1
       • "import" option should work when "Function": module 1
       • "import" option should work when "Function": result 1
       • "import" option should work when "Function": warnings 1
       • "import" option should work when not specified: errors 1
       • "import" option should work when not specified: module 1
       • "import" option should work when not specified: result 1
       • "import" option should work when not specified: warnings 1
       • "import" option should work with a value equal to "false": errors 1
       • "import" option should work with a value equal to "false": module 1
       • "import" option should work with a value equal to "false": result 1
       • "import" option should work with a value equal to "false": warnings 1
       • "import" option should work with a value equal to "true": errors 1
       • "import" option should work with a value equal to "true": module 1
       • "import" option should work with a value equal to "true": result 1
       • "import" option should work with a value equal to "true": warnings 1
   ↳ test/url-option.test.js
       • "url" option should resolve "file" protocol path: errors 1
       • "url" option should resolve "file" protocol path: module 1
       • "url" option should resolve "file" protocol path: result 1
       • "url" option should resolve "file" protocol path: warnings 1
       • "url" option should resolve absolute path: errors 1
       • "url" option should resolve absolute path: module 1
       • "url" option should resolve absolute path: result 1
       • "url" option should resolve absolute path: warnings 1
       • "url" option should work when not specified: errors 1
       • "url" option should work when not specified: module 1
       • "url" option should work when not specified: result 1
       • "url" option should work when not specified: warnings 1
       • "url" option should work with a value equal to "Function": errors 1
       • "url" option should work with a value equal to "Function": module 1
       • "url" option should work with a value equal to "Function": result 1
       • "url" option should work with a value equal to "Function": warnings 1
       • "url" option should work with a value equal to "false": errors 1
       • "url" option should work with a value equal to "false": module 1
       • "url" option should work with a value equal to "false": result 1
       • "url" option should work with a value equal to "false": warnings 1
       • "url" option should work with a value equal to "true": errors 1
       • "url" option should work with a value equal to "true": module 1
       • "url" option should work with a value equal to "true": result 1
       • "url" option should work with a value equal to "true": warnings 1
       • "url" option should work with the 'asset' type of asset modules: errors 1
       • "url" option should work with the 'asset' type of asset modules: module 1
       • "url" option should work with the 'asset' type of asset modules: result 1
       • "url" option should work with the 'asset' type of asset modules: warnings 1
       • "url" option should work with the 'asset/inline' type of asset modules: errors 1
       • "url" option should work with the 'asset/inline' type of asset modules: module 1
       • "url" option should work with the 'asset/inline' type of asset modules: result 1
       • "url" option should work with the 'asset/inline' type of asset modules: warnings 1
       • "url" option should work with the 'asset/resource' type of asset modules: errors 1
       • "url" option should work with the 'asset/resource' type of asset modules: module 1
       • "url" option should work with the 'asset/resource' type of asset modules: result 1
       • "url" option should work with the 'asset/resource' type of asset modules: warnings 1
   ↳ test/esModule-option.test.js
       • "esModule" option should work when not specified: errors 1
       • "esModule" option should work when not specified: module 1
       • "esModule" option should work when not specified: result 1
       • "esModule" option should work when not specified: warnings 1
       • "esModule" option should work with a value equal to "false": errors 1
       • "esModule" option should work with a value equal to "false": module 1
       • "esModule" option should work with a value equal to "false": result 1
       • "esModule" option should work with a value equal to "false": warnings 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": errors 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": module 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": result 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "global": warnings 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": errors 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": module 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": result 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "local": warnings 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": errors 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": module 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": result 1
       • "esModule" option should work with a value equal to "true" and the "mode" value equal to "pure": warnings 1
       • "esModule" option should work with a value equal to "true": errors 1
       • "esModule" option should work with a value equal to "true": module 1
       • "esModule" option should work with a value equal to "true": result 1
       • "esModule" option should work with a value equal to "true": warnings 1
   ↳ test/importLoaders-option.test.js
       • "importLoaders" option should work when not specified: errors 1
       • "importLoaders" option should work when not specified: module 1
       • "importLoaders" option should work when not specified: result 1
       • "importLoaders" option should work when not specified: warnings 1
       • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): errors 1
       • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): module 1
       • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): result 1
       • "importLoaders" option should work with a value equal to ""1"" ("postcss-loader" before): warnings 1
       • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): errors 1
       • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): module 1
       • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): result 1
       • "importLoaders" option should work with a value equal to "0" (`postcss-loader` before): warnings 1
       • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): errors 1
       • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): module 1
       • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): result 1
       • "importLoaders" option should work with a value equal to "1" ("postcss-loader" before): warnings 1
       • "importLoaders" option should work with a value equal to "1" (no loaders before): errors 1
       • "importLoaders" option should work with a value equal to "1" (no loaders before): module 1
       • "importLoaders" option should work with a value equal to "1" (no loaders before): result 1
       • "importLoaders" option should work with a value equal to "1" (no loaders before): warnings 1
       • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): errors 1
       • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): module 1
       • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): result 1
       • "importLoaders" option should work with a value equal to "2" ("postcss-loader" before): warnings 1
   ↳ test/loader.test.js
       • loader should pass queries to other loader: errors 1
       • loader should pass queries to other loader: module 1
       • loader should pass queries to other loader: result 1
       • loader should pass queries to other loader: warnings 1
       • loader should reuse `ast` from "postcss-loader": errors 1
       • loader should reuse `ast` from "postcss-loader": module 1
       • loader should reuse `ast` from "postcss-loader": result 1
       • loader should reuse `ast` from "postcss-loader": warnings 1
       • loader should work with "asset" module type: errors 1
       • loader should work with "asset" module type: module 1
       • loader should work with "asset" module type: result 1
       • loader should work with "asset" module type: warnings 1
       • loader should work with ModuleConcatenationPlugin (file-loader): errors 1
       • loader should work with ModuleConcatenationPlugin (file-loader): warnings 1
       • loader should work with ModuleConcatenationPlugin (url-loader): errors 1
       • loader should work with ModuleConcatenationPlugin (url-loader): warnings 1
       • loader should work with ModuleConcatenationPlugin: errors 1
       • loader should work with ModuleConcatenationPlugin: warnings 1
       • loader should work with empty options: errors 1
       • loader should work with empty options: module 1
       • loader should work with empty options: result 1
       • loader should work with empty options: warnings 1
       • loader should work with the "modules.auto" option and the "importLoaders" option: errors 1
       • loader should work with the "modules.auto" option and the "importLoaders" option: result 1
       • loader should work with the "modules.auto" option and the "importLoaders" option: warnings 1
       • loader should work: errors 1
       • loader should work: module 1
       • loader should work: result 1
       • loader should work: warnings 1
   ↳ test/sourceMap-option.test.js
       • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: errors 1
       • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: module 1
       • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: result 1
       • "sourceMap" option false should not generate source maps when previous loader does not generate source maps: warnings 1
       • "sourceMap" option false should not generate source maps when previous loader generates source maps: errors 1
       • "sourceMap" option false should not generate source maps when previous loader generates source maps: module 1
       • "sourceMap" option false should not generate source maps when previous loader generates source maps: result 1
       • "sourceMap" option false should not generate source maps when previous loader generates source maps: warnings 1
       • "sourceMap" option false should not generate source maps: errors 1
       • "sourceMap" option false should not generate source maps: module 1
       • "sourceMap" option false should not generate source maps: result 1
       • "sourceMap" option false should not generate source maps: warnings 1
       • "sourceMap" option not specified should not generate source maps: errors 1
       • "sourceMap" option not specified should not generate source maps: module 1
       • "sourceMap" option not specified should not generate source maps: result 1
       • "sourceMap" option not specified should not generate source maps: warnings 1
       • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: errors 1
       • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: module 1
       • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: result 1
       • "sourceMap" option true should generate source maps and do not change "[contenthash]" on different platform: warnings 1
       • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: errors 1
       • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: extracted css 1
       • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: source map 1
       • "sourceMap" option true should generate source maps when css was extracted and do not change "[contenthash]" on different platform: warnings 1
       • "sourceMap" option true should generate source maps when css was extracted: errors 1
       • "sourceMap" option true should generate source maps when css was extracted: source map 1
       • "sourceMap" option true should generate source maps when css was extracted: warnings 1
       • "sourceMap" option true should generate source maps when previous loader does not generate source maps: errors 1
       • "sourceMap" option true should generate source maps when previous loader does not generate source maps: module 1
       • "sourceMap" option true should generate source maps when previous loader does not generate source maps: result 1
       • "sourceMap" option true should generate source maps when previous loader does not generate source maps: warnings 1
       • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: errors 1
       • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: module 1
       • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: result 1
       • "sourceMap" option true should generate source maps when previous loader generates different source in source maps: warnings 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): errors 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): module 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): result 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps ("postcss-loader"): warnings 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": errors 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": module 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": result 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps with "sourceRoot": warnings 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": errors 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": module 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": result 1
       • "sourceMap" option true should generate source maps when previous loader generates source maps without "sourceRoot": warnings 1
       • "sourceMap" option true should generate source maps: errors 1
       • "sourceMap" option true should generate source maps: module 1
       • "sourceMap" option true should generate source maps: result 1
       • "sourceMap" option true should generate source maps: warnings 1
   ↳ test/modules-option.test.js
       • "modules" option should support resolving in composes: errors 1
       • "modules" option should support resolving in composes: module 1
       • "modules" option should support resolving in composes: result 1
       • "modules" option should support resolving in composes: warnings 1
       • "modules" option should work and respect the "exportOnlyLocals" option: errors 1
       • "modules" option should work and respect the "exportOnlyLocals" option: module 1
       • "modules" option should work and respect the "exportOnlyLocals" option: result 1
       • "modules" option should work and respect the "exportOnlyLocals" option: warnings 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: errors 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: module 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: result 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "false" value options: warnings 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: errors 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: module 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: result 1
       • "modules" option should work with "exportOnlyLocals" and "esModule" with "true" value options: warnings 1
       • "modules" option should work with "exportOnlyLocals" and "namedExport" option: errors 1
       • "modules" option should work with "exportOnlyLocals" and "namedExport" option: module 1
       • "modules" option should work with "exportOnlyLocals" and "namedExport" option: result 1
       • "modules" option should work with "exportOnlyLocals" and "namedExport" option: warnings 1
       • "modules" option should work with "url" and "namedExport": errors 1
       • "modules" option should work with "url" and "namedExport": module 1
       • "modules" option should work with "url" and "namedExport": result 1
       • "modules" option should work with "url" and "namedExport": warnings 1
       • "modules" option should work with "url": errors 1
       • "modules" option should work with "url": module 1
       • "modules" option should work with "url": result 1
       • "modules" option should work with "url": warnings 1
       • "modules" option should work with case `comments` (`modules` value is `false)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `false)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `false)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `false)`: warnings 1
       • "modules" option should work with case `comments` (`modules` value is `global)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `global)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `global)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `global)`: warnings 1
       • "modules" option should work with case `comments` (`modules` value is `local)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `local)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `local)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `local)`: warnings 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode global)`: warnings 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `object with mode local)`: warnings 1
       • "modules" option should work with case `comments` (`modules` value is `true)`: errors 1
       • "modules" option should work with case `comments` (`modules` value is `true)`: module 1
       • "modules" option should work with case `comments` (`modules` value is `true)`: result 1
       • "modules" option should work with case `comments` (`modules` value is `true)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `false)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `false)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `false)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `false)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `global)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `global)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `global)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `global)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `local)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `local)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `local)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `local)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode global)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `object with mode local)`: warnings 1
       • "modules" option should work with case `issue-589` (`modules` value is `true)`: errors 1
       • "modules" option should work with case `issue-589` (`modules` value is `true)`: module 1
       • "modules" option should work with case `issue-589` (`modules` value is `true)`: result 1
       • "modules" option should work with case `issue-589` (`modules` value is `true)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `false)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `false)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `false)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `false)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `global)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `global)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `global)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `global)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `local)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `local)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `local)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `local)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode global)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `object with mode local)`: warnings 1
       • "modules" option should work with case `urls` (`modules` value is `true)`: errors 1
       • "modules" option should work with case `urls` (`modules` value is `true)`: module 1
       • "modules" option should work with case `urls` (`modules` value is `true)`: result 1
       • "modules" option should work with case `urls` (`modules` value is `true)`: warnings 1
       • "modules" option show work with the "compileType" option using the "module" value: errors 1
       • "modules" option show work with the "compileType" option using the "module" value: module 1
       • "modules" option show work with the "compileType" option using the "module" value: result 1
       • "modules" option show work with the "compileType" option using the "module" value: warnings 1

Test Suites: 7 failed, 4 passed, 11 total
Tests:       80 failed, 367 passed, 447 total
Snapshots:   5 failed, 300 obsolete, 1172 passed, 1177 total
Time:        11.176 s
Ran all test suites.
