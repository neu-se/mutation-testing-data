
> memfs@2.5.10 test
> jest


 RUNS  ...volume.test.ts
[K[1A[K[1A
 RUNS  ...volume.test.ts
[K[1A[K[1AFAIL src/__tests__/volume.test.ts

 RUNS  ...volume.test.ts
[K[1A[K[1A  ‚óè volume ‚Ä∫ Volume ‚Ä∫ .open(path, flags[, mode], callback) ‚Ä∫ Error on incorrect flags for directory

    expect(received).toBe(expected)
    
    Expected value to be (using ===):
      "EISDIR"
    Received:
      undefined
    
    Difference:
    
      Comparing two different types of values. Expected string but received undefined.
      
      at src/__tests__/volume.test.ts:345:38
      at Immediate.<anonymous> (src/volume.ts:765:17)
      at processImmediate (node:internal/timers:483:21)


 RUNS  ...volume.test.ts
[K[1A[K[1A
 RUNS  ...volume.test.ts
[K[1A[K[1A
 RUNS  ...appendFileSync.test.ts
[K[1A[K[1APASS src/__tests__/volume/appendFileSync.test.ts

 RUNS  ...appendFileSync.test.ts
[K[1A[K[1A
 RUNS  ...renameSync.test.ts
[K[1A[K[1A
 RUNS  ...renameSync.test.ts
[K[1A[K[1APASS src/__tests__/volume/renameSync.test.ts

 RUNS  ...renameSync.test.ts
[K[1A[K[1A
 RUNS  ...readSync.test.ts
[K[1A[K[1APASS src/__tests__/volume/readSync.test.ts

 RUNS  ...readSync.test.ts
[K[1A[K[1A
 RUNS  ...appendFile.test.ts
[K[1A[K[1APASS src/__tests__/volume/appendFile.test.ts

 RUNS  ...appendFile.test.ts
[K[1A[K[1A
 RUNS  ...writeSync.test.ts
[K[1A[K[1APASS src/__tests__/volume/writeSync.test.ts

 RUNS  ...writeSync.test.ts
[K[1A[K[1A
 RUNS  ...ReadStream.test.ts
[K[1A[K[1A
 RUNS  ...ReadStream.test.ts
node:events:509
    throw err; // Unhandled 'error' event
    ^

Error [ERR_UNHANDLED_ERROR]: Unhandled error. (TypeError: Cannot set property closed of [object Object] which has only a getter
    at class_2.Object.<anonymous>.ReadStream.close (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2183:16)
    at class_2.Object.<anonymous>.ReadStream._destroy (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2166:10)
    at _destroy (node:internal/streams/destroy:121:10)
    at class_2.destroy (node:internal/streams/destroy:83:5)
    at class_2.<anonymous> (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2085:30)
    at class_2.emit (node:events:518:28)
    at endReadableNT (node:internal/streams/readable:1698:12)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)
    at runNextTicks (node:internal/process/task_queues:64:3)
    at processImmediate (node:internal/timers:454:9))
    at class_2.emit (node:events:507:17)
    at emitErrorNT (node:internal/streams/destroy:169:8)
    at emitErrorCloseNT (node:internal/streams/destroy:128:3)
    at processTicksAndRejections (node:internal/process/task_queues:82:21)
    at runNextTicks (node:internal/process/task_queues:64:3)
    at process.processImmediate (node:internal/timers:454:9) {
  code: 'ERR_UNHANDLED_ERROR',
  context: TypeError: Cannot set property closed of [object Object] which has only a getter
      at class_2.Object.<anonymous>.ReadStream.close (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2183:16)
      at class_2.Object.<anonymous>.ReadStream._destroy (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2166:10)
      at _destroy (node:internal/streams/destroy:121:10)
      at class_2.destroy (node:internal/streams/destroy:83:5)
      at class_2.<anonymous> (/Users/franktip/git/mutation-testing-data/casestudy/memfs-870/memfs/src/volume.ts:2085:30)
      at class_2.emit (node:events:518:28)
      at endReadableNT (node:internal/streams/readable:1698:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)
      at runNextTicks (node:internal/process/task_queues:64:3)
      at processImmediate (node:internal/timers:454:9)
}

Node.js v20.18.3
